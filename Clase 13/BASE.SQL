USE MASTER
GO
DROP DATABASE MODELOPARCIAL2
GO
CREATE DATABASE MODELOPARCIAL2
GO
USE MODELOPARCIAL2
GO
CREATE TABLE EMPRESAS(
	ID INT NOT NULL PRIMARY KEY,
	DESCRIPCION VARCHAR(50) NOT NULL,
	PRESUPUESTO_ANUAL MONEY NOT NULL
)
GO
CREATE TABLE PERSONAS(
	DNI INT NOT NULL PRIMARY KEY,
	APELLIDO VARCHAR(50) NOT NULL,
	NOMBRES VARCHAR(50) NOT NULL
)
GO
CREATE TABLE CONTRATOS(
	ID BIGINT NOT NULL PRIMARY KEY IDENTITY(1,1),
	IDEMPRESA INT NOT NULL FOREIGN KEY REFERENCES EMPRESAS(ID),
	DNI INT NOT NULL FOREIGN KEY REFERENCES PERSONAS(DNI),
	ANIO SMALLINT NOT NULL,
	HS_SEMANALES TINYINT NOT NULL,
	IMPORTE_ANUAL MONEY NOT NULL,
	APROBADO BIT DEFAULT(1)
)
GO
-- EMPRESAS
INSERT INTO EMPRESAS (ID, DESCRIPCION, PRESUPUESTO_ANUAL) VALUES (1, 'KLOSTER SA', 1200000)
INSERT INTO EMPRESAS (ID, DESCRIPCION, PRESUPUESTO_ANUAL) VALUES (2, 'CALABUIG INC', 900000)
INSERT INTO EMPRESAS (ID, DESCRIPCION, PRESUPUESTO_ANUAL) VALUES (3, 'SIMON FOUNDATION', 500000)
INSERT INTO EMPRESAS (ID, DESCRIPCION, PRESUPUESTO_ANUAL) VALUES (4, 'UNIVERSIDAD DE AMOS', 100000)

-- PERSONAS
INSERT INTO PERSONAS (DNI, APELLIDO, NOMBRES) VALUES (1, 'SEINFELD', 'JERRY')
INSERT INTO PERSONAS (DNI, APELLIDO, NOMBRES) VALUES (2, 'BENES', 'ELAINE')
INSERT INTO PERSONAS (DNI, APELLIDO, NOMBRES) VALUES (3, 'COSTANZA', 'GEORGE')
INSERT INTO PERSONAS (DNI, APELLIDO, NOMBRES) VALUES (4, 'KRAMER', 'COSMO')

--CONTRATOS
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (1, 1, 2018, 10, 100000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (1, 1, 2018, 30, 500000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (1, 2, 2018, 30, 500000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (2, 2, 2018, 5, 40000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (2, 3, 2018, 6, 60000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (3, 3, 2018, 10, 120000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (3, 4, 2018, 10, 150000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (3, 1, 2019, 35, 500000)
INSERT INTO CONTRATOS (IDEMPRESA, DNI, ANIO, HS_SEMANALES, IMPORTE_ANUAL) VALUES (4, 1, 2019, 5, 90000)